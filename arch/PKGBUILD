# Maintainer: Perry Werneck <perry.werneck@gmail.com>

pkgname=pw3270

pkgver=5.5+git20230204
pkgrel=0
pkgdesc="IBM 3270 Terminal emulator for GTK"
url="https://github.com/PerryWerneck/pw3270"
arch=(i686 x86_64)
license=(GPL)
depends=(libv3270)
optdepends=('pw3270-plugin-ipc: D-Bus remote control' 'pw3270-keypads: Aditional screen keypads')
makedepends=(meson gtk3 libv3270 python3)
checkdepends=()

groups=(gnome)

source=($pkgname-$pkgver.tar.xz)
sha256sums=('SKIP')

provides=($pkgname)
conflicts=($pkgname)

prepare() {
  cd $pkgname-$pkgver
  meson \
    setup \
      --reconfigure \
      --wipe \
      ".build"
}

build() {
  cd $pkgname-$pkgver
  meson compile -C ".build"
}

package() {
  cd $pkgname-$pkgver
  DESTDIR="${pkgdir}" meson install -C ".build"
}

